<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0016)http://localhost -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="Improving Performance with Threading"/>
<meta name="DC.subject" content="parallelism, of Intel&reg; MKL, thread safety, of Intel&reg; MKL"/>
<meta name="keywords" content="parallelism, of Intel&reg; MKL, thread safety, of Intel&reg; MKL"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7214C4EB-62E3-4BA2-A5FE-947F252EB8D9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2E857767-CF73-4460-A7EA-5A85D21E9431.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-42F2398B-94C3-45CD-8F20-C823CF830DDA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C2295BC8-DD22-466B-94C9-5FAA79D4F56D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DEEF0363-2B34-4BAB-87FA-A75DBE842040.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B13E207A-FC51-4973-9676-B40545599272.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-91DB3E62-A6D9-4060-9A51-F4CA181410A1.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0073DDBD-3239-44B2-AD92-87A533733E11.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-352A0C3D-B04B-470B-9E33-C339B908CACD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-EDE939CA-78FC-4EDD-9E4F-D6A22617AF96.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A09C5398-D263-42F8-95E2-772C3C1FE79C"/>
<meta name="DC.Language" content="en-US"/>
<link rel="stylesheet" type="text/css" href="intel_css_styles.css"/>
<title>Improving Performance with Threading</title>

</head>
<body id="GUID-A09C5398-D263-42F8-95E2-772C3C1FE79C">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->
<p id="header_text" style="margin-bottom : 20pt"><em> Math Kernel Library Developer Guide</em></p>


<h1 class="topictitle1">Improving
    Performance with Threading</h1>
<div id="GUID-D8F7B717-D1F5-49A7-BF30-755696A4A720"><p id="GUID-CCF506EA-AC05-485C-B167-958333FECCE5"> is extensively parallelized. See<a href="GUID-2E857767-CF73-4460-A7EA-5A85D21E9431.html">OpenMP* Threaded Functions and Problems</a> and 
      <a href="GUID-42F2398B-94C3-45CD-8F20-C823CF830DDA.html">Functions Threaded with Intel&reg; Threading Building
        Blocks</a> for lists of threaded functions and problems that can be
      threaded. 
    </p>
<p id="GUID-CAD82E90-C30A-4666-874A-2117FB339B7F">Intel&reg; oneAPI Math Kernel Library is<em id="GUID-920FC052-BAA8-46EC-B55C-A205AACF9347">thread-safe</em>, which means that all Intel&reg; oneAPI Math Kernel Library functions (except the LAPACK deprecated routine<samp class="codeph" id="GUID-44390C6E-2EFB-4968-AA6F-18B70525565D">?lacon)</samp>work correctly during simultaneous execution by multiple threads. In particular, any chunk of threaded Intel&reg; oneAPI Math Kernel Library code provides access for multiple threads to the same shared data, while permitting only one thread at any given time to access a shared piece of data. Therefore, you can call Intel&reg; oneAPI Math Kernel Library from multiple threads and not worry about the function instances interfering with each other.</p>
<p id="GUID-EFDD2D89-7E3E-41C8-A3D4-22E18B29F982"><span>If you are using OpenMP* threading technology, 
      </span>you can use the environment variable 
      <span class="keyword">OMP_NUM_THREADS</span>to specify the number of threads or the equivalent OpenMP run-time function calls. Intel&reg; oneAPI Math Kernel Library also offers variables that are independent of OpenMP, such as<span class="option">MKL_NUM_THREADS</span>, and equivalent Intel&reg; oneAPI Math Kernel Library functions for thread management. The Intel&reg; oneAPI Math Kernel Library variables are always inspected first, then the OpenMP variables are examined, and if neither is used, the OpenMP software chooses the default number of threads.</p>
<p id="GUID-C28E8E2C-C975-4DED-ACA8-6D513D6C5CBD">By default, Intel&reg; oneAPI Math Kernel Library uses the number of<span>OpenMP 
    </span>threads equal to the number of physical cores on the system. 
  </p>
<p id="GUID-243A8493-B104-47F6-85E4-F125D1C814A4"> If you
    are using the Intel TBB threading technology, the OpenMP threading controls,
    such as the 
    <span class="keyword">OMP_NUM_THREADS</span> environment
    variable or 
  <span class="option">MKL_NUM_THREADS</span>
  function, have no effect. Use the Intel TBB application programming interface
  to control the number of threads. 
  </p>
<p>To achieve higher performance, set the number of
    threads to the number of processors or physical cores, as summarized in 
    <a href="GUID-DEEF0363-2B34-4BAB-87FA-A75DBE842040.html">Techniques to Set the Number of Threads</a>. 
  </p>
<p id="P_CF_12857569597140">
<div class="tablenoborder"><table cellpadding="4" summary="" id="d25e46" frame="border" border="1" cellspacing="0" rules="all"><thead align="left"><tr><th class="cellrowborder" align="left" valign="top" width="100%" id="d22081e105"><p id="d25e52">Optimization Notice 
              </p>
</th>
</tr>
</thead>
<tbody><tr><td class="bgcolor(#f5f5f5)" bgcolor="#f5f5f5" valign="top" width="100%" headers="d22081e105 "><p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice. 
              </p>
<p> Notice revision #20110804 
              </p>
</td>
</tr>
</tbody>
</table>
</div>
 This notice covers the following instruction sets: SSE2, SSE4.2, AVX2, AVX-512. 
    </p>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-7214C4EB-62E3-4BA2-A5FE-947F252EB8D9.html">Managing Performance and Memory</a></div>
</div>
<div>
<ul class="ullinks">
<li class="ulchildlink"><a href="GUID-2E857767-CF73-4460-A7EA-5A85D21E9431.html">OpenMP* Threaded Functions and Problems</a><br/>
</li>
<li class="ulchildlink"><a href="GUID-42F2398B-94C3-45CD-8F20-C823CF830DDA.html">Functions Threaded with Intel&reg; Threading Building Blocks</a><br/>
</li>
<li class="ulchildlink"><a href="GUID-C2295BC8-DD22-466B-94C9-5FAA79D4F56D.html">Avoiding Conflicts in the Execution Environment</a><br/>
</li>
<li class="ulchildlink"><a href="GUID-DEEF0363-2B34-4BAB-87FA-A75DBE842040.html">Techniques to Set the Number of Threads</a><br/>
</li>
<li class="ulchildlink"><a href="GUID-B13E207A-FC51-4973-9676-B40545599272.html">Setting the Number of Threads Using an OpenMP* Environment Variable</a><br/>
</li>
<li class="ulchildlink"><a href="GUID-91DB3E62-A6D9-4060-9A51-F4CA181410A1.html">Changing the Number of OpenMP* Threads at Run Time</a><br/>
</li>
<li class="ulchildlink"><a href="GUID-0073DDBD-3239-44B2-AD92-87A533733E11.html">Using Additional Threading Control</a><br/>
</li>
<li class="ulchildlink"><a href="GUID-352A0C3D-B04B-470B-9E33-C339B908CACD.html">Calling oneMKL Functions from Multi-threaded Applications</a><br/>
</li>
<li class="ulchildlink"><a href="GUID-EDE939CA-78FC-4EDD-9E4F-D6A22617AF96.html">Using Intel&reg; Hyper-Threading Technology</a><br/>
</li>
</ul>
</div>
</body>
</html>
