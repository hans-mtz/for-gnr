<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0016)http://localhost -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="DC.Type" content="FunctionRef"/>
<meta name="DC.Title" content="mkl_?csrbsr"/>
<meta name="abstract" content="Converts a square sparse matrix in the CSR format to the BSR format and vice versa (deprecated)."/>
<meta name="description" content="Converts a square sparse matrix in the CSR format to the BSR format and vice versa (deprecated)."/>
<meta name="DC.subject" content="mkl_?csrbsr, sparse BLAS routines, matrix converters"/>
<meta name="keywords" content="mkl_?csrbsr, sparse BLAS routines, matrix converters"/>
<meta name="DC.Relation" scheme="URI" content="GUID-89D3F5E7-67D5-410F-AB5B-84A71080687B.html"/>
<meta name="DC.Relation" scheme="URI" content="http://www.intel.com/software/products/softwaredocs_feedback"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-96981356-3F32-4986-A3B1-83BA3B4B98D2"/>
<meta name="DC.Language" content="en-US"/>
<link rel="stylesheet" type="text/css" href="intel_css_styles.css"/>
<title>mkl_?csrbsr</title>

</head>
<body id="GUID-96981356-3F32-4986-A3B1-83BA3B4B98D2">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->
<p id="header_text" style="margin-bottom : 20pt"><em>Intel&reg; oneAPI Math Kernel Library Developer Reference - Fortran</em></p>


<h1 class="topictitle1"><span class="option">mkl_?csrbsr</span></h1>
<!--Converts a square sparse matrix in the CSR format to the BSR format and vice versa (deprecated).--><div><p class="shortdesc">Converts a square sparse matrix in the CSR format to the BSR format and vice versa (deprecated).</p>
<div class="section" id="GUID-38015643-74EB-4F0F-918E-7A9614AC217D"><h2 class="sectiontitle">Syntax</h2><dl class="dlsyntax"><p class="dlsyntaxpara"><span class="kwd">call mkl_scsrbsr</span><span class="delim">(</span><span class="var">job</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">mblk</span><span class="sep">, </span><span class="var">ldabsr</span><span class="sep">, </span><span class="var">acsr</span><span class="sep">, </span><span class="var">ja</span><span class="sep">, </span><span class="var">ia</span><span class="sep">, </span><span class="var">absr</span><span class="sep">, </span><span class="var">jab</span><span class="sep">, </span><span class="var">iab</span><span class="sep">, </span><span class="var">info</span><span class="delim">)</span></p><p class="dlsyntaxpara"><span class="kwd">call mkl_dcsrbsr</span><span class="delim">(</span><span class="var">job</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">mblk</span><span class="sep">, </span><span class="var">ldabsr</span><span class="sep">, </span><span class="var">acsr</span><span class="sep">, </span><span class="var">ja</span><span class="sep">, </span><span class="var">ia</span><span class="sep">, </span><span class="var">absr</span><span class="sep">, </span><span class="var">jab</span><span class="sep">, </span><span class="var">iab</span><span class="sep">, </span><span class="var">info</span><span class="delim">)</span></p><p class="dlsyntaxpara"><span class="kwd">call mkl_ccsrbsr</span><span class="delim">(</span><span class="var">job</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">mblk</span><span class="sep">, </span><span class="var">ldabsr</span><span class="sep">, </span><span class="var">acsr</span><span class="sep">, </span><span class="var">ja</span><span class="sep">, </span><span class="var">ia</span><span class="sep">, </span><span class="var">absr</span><span class="sep">, </span><span class="var">jab</span><span class="sep">, </span><span class="var">iab</span><span class="sep">, </span><span class="var">info</span><span class="delim">)</span></p><p class="dlsyntaxpara"><span class="kwd">call mkl_zcsrbsr</span><span class="delim">(</span><span class="var">job</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">mblk</span><span class="sep">, </span><span class="var">ldabsr</span><span class="sep">, </span><span class="var">acsr</span><span class="sep">, </span><span class="var">ja</span><span class="sep">, </span><span class="var">ia</span><span class="sep">, </span><span class="var">absr</span><span class="sep">, </span><span class="var">jab</span><span class="sep">, </span><span class="var">iab</span><span class="sep">, </span><span class="var">info</span><span class="delim">)</span></p></dl></div>
<div class="section" id="GUID-D7B7354D-A1CB-40F9-9255-68A659A786D1"><h2 class="sectiontitle">Include Files</h2><ul id="d163e40"><li id="d163e41"><span class="filepath">mkl.fi</span></li>
</ul>
</div>
<div class="section" id="GUID-815891E4-734D-4B9F-8B35-0EBD514605F5"><h2 class="sectiontitle">Description</h2><p><span/></p>
<p>This routine is deprecated. Use the <a href="GUID-6313A228-4C03-42C0-8595-11E50F4CB80D.html">matrix manipulation routines</a>from the Intel&reg; oneAPI Math Kernel Library Inspector-executor Sparse BLAS interface instead.</p>
<p>This routine converts a square sparse matrix <var>A</var> stored in the compressed sparse row (CSR) format (3-array variation) to the block sparse row (BSR) format and vice versa.</p>
</div>
<div class="section" id="GUID-B7C55F82-FE04-4417-9BE3-76CB9527C0A0"><h2 class="sectiontitle">Input Parameters</h2><p>Parameter descriptions are common for all implemented interfaces with the exception of data types that refer here to the FORTRAN 77 standard types. Data types specific to the different interfaces are described in the section 
        <strong>"Interfaces"</strong> below. 
      </p>
<dl id="GUID-A0D0D33F-FE5A-4279-9608-53E76D8E8981"><dt class="dlterm"><span class="parmname">job</span></dt>

<dd><p><span class="keyword">INTEGER</span></p>
<p>Array, contains the following conversion parameters:</p>
<p class="bold"><samp class="codeph"><span><span class="parmname">job</span>(1)</span></samp></p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(1)</span>=0</samp>, the matrix in the CSR format is converted to the BSR format;</p>
<p>if <samp class="codeph"><span><span class="parmname">job</span>(1)</span>=1</samp>, the matrix in the BSR format is converted to the CSR format.</p>
<p class="bold"><samp class="codeph"><span><span class="parmname">job</span>(2)</span></samp></p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(2)</span>=0</samp>, zero-based indexing
for the matrix in CSR format is used;</p>
<p>if <samp class="codeph"><span><span class="parmname">job</span>(2)</span>=1</samp>, one-based indexing
for the matrix in CSR format is used.</p>
<p class="bold"><samp class="codeph"><span><span class="parmname">job</span>(3)</span></samp></p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(3)</span>=0</samp>, zero-based indexing
for the matrix in the BSR format is used;</p>
<p>if <samp class="codeph"><span><span class="parmname">job</span>(3)</span>=1</samp>, one-based indexing
for the matrix in the BSR format is used.</p>
<p><samp class="codeph"><span><span class="parmname">job</span>(4)</span></samp> is only used for conversion to CSR format. By default, the
converter saves the blocks without checking whether an
element is zero or not. If <samp class="codeph"><span><span class="parmname">job</span>(4)</span>=1</samp>, then the converter
only saves non-zero elements in blocks.</p>
<p class="bold"><samp class="codeph"><span><span class="parmname">job</span>(6)</span></samp> - job indicator.</p>
<p class="bold">For conversion to the BSR format:</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>=0</samp>, only arrays  <span class="parmname">jab</span>, <span class="parmname">iab</span> are generated for the output storage.</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>&gt;0</samp>, all output arrays <span class="parmname">absr</span>, <span class="parmname">jab</span>, and  <span class="parmname">iab</span> are filled in for the output storage.</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>=-1</samp>, <samp class="codeph"><span class="parmname">iab</span>(1)</samp> returns the number of non-zero blocks.</p>
<p class="bold">For conversion to the CSR format:</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>=0</samp>, only arrays  <span class="parmname">ja</span>, <span class="parmname">ia</span> are generated for the output storage.</p>
</dd>
<dt class="dlterm"><span class="parmname">m</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Actual row dimension of the matrix <var>A</var> for convert to the BSR format; block row dimension of the matrix <var>A</var> for convert to the CSR format.</p>
</dd>
<dt class="dlterm"><span class="parmname">mblk</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Size of the block in the matrix <var>A</var>.</p>
</dd>
<dt class="dlterm"><span class="parmname">ldabsr</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Leading dimension of the array <span class="parmname">absr</span> as declared in the calling program. <span class="parmname">ldabsr</span> must be greater than or equal to <samp class="codeph"><span class="parmname">mblk</span>*<span class="parmname">mblk</span></samp>.</p>
</dd>
<dt class="dlterm"><span class="parmname">acsr</span></dt>

<dd><p>(input/output)</p>
<p><span class="keyword">REAL</span> for <span class="option">mkl_scsrbsr</span>.</p>
<p><span class="keyword">DOUBLE PRECISION</span> for <span class="option">mkl_dcsrbsr</span>.</p>
<p><span class="keyword">COMPLEX</span> for <span class="option">mkl_ccsrbsr</span>.</p>
<p><span class="keyword">DOUBLE COMPLEX</span> for <span class="option">mkl_zcsrbsr</span>.</p>
<p>Array containing non-zero elements of the matrix <var>A</var>. Its length is equal to the number of non-zero elements in the matrix <var>A</var>. Refer to <span class="parmname">values</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#GUID-9FCEB1C4-670D-4738-81D2-F378013412B0">Sparse Matrix Storage Formats</a> for more details.
</p>
</dd>
<dt class="dlterm"><span class="parmname">ja</span></dt>

<dd><p>(input/output)<span><span class="keyword">INTEGER</span></span>. Array containing the column indices for each non-zero element of the matrix <var>A</var>.</p>
<p>Its length is equal to the length of the array <span class="parmname">acsr</span>. Refer to <span class="parmname">columns</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#GUID-9FCEB1C4-670D-4738-81D2-F378013412B0">Sparse Matrix Storage Formats</a> for more details.</p>
</dd>
<dt class="dlterm"><span class="parmname">ia</span></dt>

<dd><p>(input/output)<span><span class="keyword">INTEGER</span></span>. Array of length <samp class="codeph"><span class="parmname">m</span> + 1</samp>, containing indices of elements in the array <span class="parmname">acsr</span>, such that <samp class="codeph"><span><span class="parmname">ia</span>(<var>I</var>)</span></samp> is the index in the array <span class="parmname">acsr</span> of the first non-zero element from the row <var>I</var>. The value of <span>the last element</span><samp class="codeph"><span class="parmname">ia</span>(<span class="parmname">m</span> + 1)</samp> is equal to the number of non-zeros<span> plus one</span>. Refer to <span class="parmname">rowIndex</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#GUID-9FCEB1C4-670D-4738-81D2-F378013412B0">Sparse Matrix Storage Formats</a> for more details.
</p>
</dd>
<dt class="dlterm"><span class="parmname">absr</span></dt>

<dd><p>(input/output)</p>
<p><span class="keyword">REAL</span> for <span class="option">mkl_scsrbsr</span>.</p>
<p><span class="keyword">DOUBLE PRECISION</span> for <span class="option">mkl_dcsrbsr</span>.</p>
<p><span class="keyword">COMPLEX</span> for <span class="option">mkl_ccsrbsr</span>.</p>
<p><span class="keyword">DOUBLE COMPLEX</span> for <span class="option">mkl_zcsrbsr</span>.</p>
<p>Array containing elements of non-zero blocks of the matrix <var>A</var>. Its length is equal to the number of non-zero blocks in the matrix <var>A</var> multiplied by <samp class="codeph"><span class="parmname">mblk</span>*<span class="parmname">mblk</span></samp>. Refer to <span class="parmname">values</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#MKL_APPA_SMSF_8">BSR Format</a> for more details.</p>
</dd>
<dt class="dlterm"><span class="parmname">jab</span></dt>

<dd><p>(input/output)<span><span class="keyword">INTEGER</span></span>. Array containing the column indices for each non-zero block of the matrix <var>A</var>.</p>
<p>Its length is equal to the number of non-zero blocks of the matrix <var>A</var>. Refer to <span class="parmname">columns</span> array description in  <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#MKL_APPA_SMSF_8">BSR Format</a> for more details.</p>
</dd>
<dt class="dlterm"><span class="parmname">iab</span></dt>

<dd><p>(input/output)<span><span class="keyword">INTEGER</span></span>. Array of length <samp class="codeph">(<span class="parmname">m</span> + 1)</samp>, containing indices of blocks in the array <span class="parmname">absr</span>, such that <samp class="codeph"><span class="parmname">iab</span>(<span class="parmname">i</span>)</samp> is the index in the array <span class="parmname">absr</span> of the first non-zero element from the <span class="parmname">i</span>-th row . The value of <span>the last element</span><samp class="codeph"><span class="parmname">iab</span>(<span class="parmname">m</span> + 1)</samp> is equal to the number of non-zero blocks<span> plus one</span>. Refer to <span class="parmname">rowIndex</span> array description in  <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#MKL_APPA_SMSF_8">BSR Format</a> for
 more details.</p>
</dd>
</dl>
</div>
<div class="section" id="GUID-104533AF-36A7-4889-B6E3-126583B6CC70"><h2 class="sectiontitle">Output Parameters</h2><dl id="GUID-7567AAAC-AA78-42D0-A116-150ECCDAF897"><dt class="dlterm"><span class="parmname">info</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Integer info indicator only for converting the matrix <var>A</var> from the CSR format. </p>
<p>If <span class="parmname">info</span><samp class="codeph">=0</samp>, the execution is successful.</p>
<p>If <span class="parmname">info</span><samp class="codeph">=1</samp>, it means that <span class="parmname">mblk</span> is equal to 0.</p>
<p>If <span class="parmname">info</span><samp class="codeph">=2</samp>, it means that <span class="parmname">ldabsr</span> is less than <samp class="codeph"><span class="parmname">mblk</span>*<span class="parmname">mblk</span></samp> and there is no space for all blocks.</p>
</dd>
</dl>
</div>
<div class="section" id="GUID-FA5A9E4C-5F5F-47C5-B460-F392172EC29D"><h2 class="sectiontitle">Interfaces</h2><div class="section" id="GUID-ABB56FFC-55EC-4849-9499-98A302F1709C"><h2 class="sectiontitle">FORTRAN 77:</h2><pre>SUBROUTINE mkl_scsrbsr(job, m, mblk, ldabsr, acsr, ja, ia, absr, jab, iab, info)</pre><pre>  INTEGER      job(8)</pre><pre>  INTEGER      m, mblk, ldabsr, info</pre><pre>  INTEGER      ja(*), ia(m+1), jab(*), iab(*)</pre><pre>  REAL         acsr(*), absr(ldabsr,*)</pre><p/>
<pre>SUBROUTINE mkl_dcsrbsr(job, m, mblk, ldabsr, acsr, ja, ia, absr, jab, iab, info)</pre><pre>  INTEGER      job(8)</pre><pre>  INTEGER      m, mblk, ldabsr, info</pre><pre>  INTEGER      ja(*), ia(m+1), jab(*), iab(*)</pre><pre>  DOUBLE PRECISION       acsr(*), absr(ldabsr,*)</pre><p/>
<pre>SUBROUTINE mkl_ccsrbsr(job, m, mblk, ldabsr, acsr, ja, ia, absr, jab, iab, info)</pre><pre>  INTEGER      job(8)</pre><pre>  INTEGER      m, mblk, ldabsr, info</pre><pre>  INTEGER      ja(*), ia(m+1), jab(*), iab(*)</pre><pre>  COMPLEX       acsr(*), absr(ldabsr,*)</pre><p/>
<pre>SUBROUTINE mkl_zcsrbsr(job, m, mblk, ldabsr, acsr, ja, ia, absr, jab, iab, info)</pre><pre>  INTEGER      job(8)</pre><pre>  INTEGER      m, mblk, ldabsr, info</pre><pre>  INTEGER      ja(*), ia(m+1), jab(*), iab(*)</pre><pre>  DOUBLE COMPLEX       acsr(*), absr(ldabsr,*)</pre><p/>
</div>
</div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-89D3F5E7-67D5-410F-AB5B-84A71080687B.html">Sparse BLAS Level 2 and Level 3 Routines.</a></div>
</div>
<div/>
</body>
</html>
