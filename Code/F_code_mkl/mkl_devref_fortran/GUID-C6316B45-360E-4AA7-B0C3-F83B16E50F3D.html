<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0016)http://localhost -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="DC.Type" content="FunctionRef"/>
<meta name="DC.Title" content="blacs_gridmap"/>
<meta name="abstract" content="Maps available processes into BLACS process grid."/>
<meta name="description" content="Maps available processes into BLACS process grid."/>
<meta name="DC.subject" content="BLACS, blacs_gridmap"/>
<meta name="keywords" content="BLACS, blacs_gridmap"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A7D94DCA-5A69-4EA9-9332-427F0615A196.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7336B11C-2B31-466B-8173-0F84835CC0BD.html#GUID-7336B11C-2B31-466B-8173-0F84835CC0BD"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D826B610-9541-4B2B-B78E-02E0ABBD933F.html#GUID-D826B610-9541-4B2B-B78E-02E0ABBD933F"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F74017DD-C068-4C53-B5CD-63EEE1970FD8.html#GUID-F74017DD-C068-4C53-B5CD-63EEE1970FD8"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9117683B-13C6-4F47-8822-01DBDC017394.html#GUID-9117683B-13C6-4F47-8822-01DBDC017394"/>
<meta name="DC.Relation" scheme="URI" content="http://www.intel.com/software/products/softwaredocs_feedback"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C6316B45-360E-4AA7-B0C3-F83B16E50F3D"/>
<meta name="DC.Language" content="en-US"/>
<link rel="stylesheet" type="text/css" href="intel_css_styles.css"/>
<title>blacs_gridmap</title>

</head>
<body id="GUID-C6316B45-360E-4AA7-B0C3-F83B16E50F3D">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->
<p id="header_text" style="margin-bottom : 20pt"><em>Intel&reg; oneAPI Math Kernel Library Developer Reference - Fortran</em></p>


<h1 class="topictitle1"><span class="option">blacs_gridmap</span></h1>
<!--Maps available processes into BLACS process grid. --><div><p class="shortdesc">Maps available processes into BLACS process grid. </p>
<div class="section" id="GUID-7A7AE192-0862-4633-B741-0F660F47A88E"><h2 class="sectiontitle">Syntax</h2><div class="dlsyntaxpara"><p class="dlsyntaxpara"><span class="kwd">call blacs_gridmap</span><span class="sep">( </span><span class="var">icontxt</span><span class="sep">, </span><span class="var">usermap</span><span class="sep">, </span><span class="var">ldumap</span><span class="sep">, </span><span class="var">nprow</span><span class="sep">, </span><span class="var">npcol</span><span class="sep"> )</span></p></div></div>
<div class="section" id="GUID-5CC4546B-3F7C-4F63-B168-7E5DBB4E76D6"><h2 class="sectiontitle">Input Parameters</h2><table cellspacing="0" cellpadding="4" border="0" width="90%" style="border-spacing:0; border-collapse:collapse"><tr><td valign="top" width="30%" class="noborder"><p><span class="parmname">icontxt</span></p></td>

<td valign="top" class="noborder"><p><span class="keyword">INTEGER</span>.  Integer handle indicating the system context to be used in creating the BLACS context. Call <span class="option">blacs_get</span> to obtain a default system context.</p>
</td>
</tr><tr><td valign="top" width="30%" class="noborder"><p><span class="parmname">usermap</span></p></td>

<td valign="top" class="noborder"><p><span class="keyword">INTEGER</span>. Array, dimension (<span class="parmname">ldumap</span>, <span class="parmname">npcol</span>), indicating the process-to-grid mapping.</p>
</td>
</tr><tr><td valign="top" width="30%" class="noborder"><p><span class="parmname">ldumap</span></p></td>

<td valign="top" class="noborder"><p><span class="keyword">INTEGER</span>.  Leading dimension of the 2D array <span class="parmname">usermap</span>. <span class="parmname">ldumap</span>   ≥ <span class="parmname">nprow</span>.</p>
</td>
</tr><tr><td valign="top" width="30%" class="noborder"><p><span class="parmname">nprow</span></p></td>

<td valign="top" class="noborder"><p><span class="keyword">INTEGER</span>. Indicates how many process rows the process grid should contain.</p>
</td>
</tr><tr><td valign="top" width="30%" class="noborder"><p><span class="parmname">npcol</span></p></td>

<td valign="top" class="noborder"><p><span class="keyword">INTEGER</span>. Indicates how many process columns the process grid should contain.</p>
</td>
</tr></table></div>
<div class="section" id="GUID-6957FA86-233F-47F3-8158-1223A4848F4A"><h2 class="sectiontitle">Output Parameters</h2><table cellspacing="0" cellpadding="4" border="0" width="90%" style="border-spacing:0; border-collapse:collapse"><tr><td valign="top" width="30%" class="noborder"><p><span class="parmname">icontxt</span></p></td>

<td valign="top" class="noborder"><p><span class="keyword">INTEGER</span>.  Integer handle to the created BLACS context.</p>
</td>
</tr></table></div>
<div class="section" id="GUID-FA49A8AC-0B23-48A4-9DE9-885D9F73245A"><h2 class="sectiontitle">Description</h2><p>All BLACS codes must call this routine, or its sister routine <span class="option">blacs_gridinit</span>. These routines take the available processes, and assign, or map, them into a BLACS process grid. In other words, they establish how the BLACS coordinate system maps into the native machine process numbering system. Each BLACS grid is contained in a context, so that it does not interfere with distributed operations that occur within other grids/contexts. These grid creation routines may be called repeatedly to define additional contexts/grids.</p>
<p>The creation of a grid requires input from all processes that are defined to be in this grid. Processes belonging to more than one grid have to agree on which grid formation will be serviced first, much like the globally blocking sum or broadcast.</p>
<p>These grid creation routines set up various internals for the BLACS, and one of them must be called before any calls are made to the non-initialization BLACS.</p>
<p>Note that these routines map already existing processes to a grid: the processes are not created dynamically. On most parallel machines, the processes are actual processors (hardware), and they are "created" when you run your executable. When using the PVM BLACS, if the virtual machine has not been set up yet, the routine <span class="option">blacs_setup</span> should be used to create the virtual machine. </p>
<p>This routine allows the user to map processes to the process grid in an arbitrary manner. <samp class="codeph">usermap(i,j)</samp> holds the process number of the process to be placed in <samp class="codeph">{i, j}</samp> of the process grid. On most distributed systems, this process number is a machine defined number between 0 ... <span class="parmname">nprow</span>-1. For PVM, these node numbers are the PVM TIDS (Task IDs). The <span class="option">blacs_gridmap</span> routine is intended for an experienced user. The <span class="option">blacs_gridinit</span> routine is much simpler. <span class="option">blacs_gridinit</span> simply performs a <span class="keyword">gridmap</span> where the first <samp class="codeph">nprow * npcol</samp> processes are mapped into the current grid in a row-major natural ordering. If you are an experienced user, <span class="option">blacs_gridmap</span> allows you to take advantage of your system's actual layout. That is, you can map nodes that are physically connected to be neighbors in the BLACS grid, etc. The <span class="option">blacs_gridmap</span> routine also opens the way for <dfn class="term">multigridding</dfn>: you can separate your nodes into arbitrary grids, join them together at some later date, and then re-split them into new grids. <span class="option">blacs_gridmap</span> also provides the ability to make arbitrary grids or subgrids (for example, a "nearest neighbor" grid), which can greatly facilitate operations among processes that do not fall on a row or column of the main process grid.</p>
</div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-A7D94DCA-5A69-4EA9-9332-427F0615A196.html">Initialization Routines</a></div>
</div>
<div class="See Also"><h2>See Also</h2>
<div class="linklist">
<div><a href="GUID-7336B11C-2B31-466B-8173-0F84835CC0BD.html#GUID-7336B11C-2B31-466B-8173-0F84835CC0BD">Examples of BLACS Routines Usage</a></div>
<div><a href="GUID-D826B610-9541-4B2B-B78E-02E0ABBD933F.html#GUID-D826B610-9541-4B2B-B78E-02E0ABBD933F"><span class="option">blacs_get</span></a> </div>
<div><a href="GUID-F74017DD-C068-4C53-B5CD-63EEE1970FD8.html#GUID-F74017DD-C068-4C53-B5CD-63EEE1970FD8"><span class="option">blacs_gridinit</span></a> </div>
<div><a href="GUID-9117683B-13C6-4F47-8822-01DBDC017394.html#GUID-9117683B-13C6-4F47-8822-01DBDC017394"><span class="option">blacs_setup</span></a> </div></div></div>
</body>
</html>
