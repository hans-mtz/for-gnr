<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0016)http://localhost -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="DC.Type" content="FunctionRef"/>
<meta name="DC.Title" content="mkl_?csrdia"/>
<meta name="abstract" content="Converts a sparse matrix in the CSR format to the diagonal format and vice versa (deprecated)."/>
<meta name="description" content="Converts a sparse matrix in the CSR format to the diagonal format and vice versa (deprecated)."/>
<meta name="DC.subject" content="mkl_?csrdia, sparse BLAS routines, matrix converters"/>
<meta name="keywords" content="mkl_?csrdia, sparse BLAS routines, matrix converters"/>
<meta name="DC.Relation" scheme="URI" content="GUID-89D3F5E7-67D5-410F-AB5B-84A71080687B.html"/>
<meta name="DC.Relation" scheme="URI" content="http://www.intel.com/software/products/softwaredocs_feedback"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-72EC48B0-4A20-4447-A522-4087488C6054"/>
<meta name="DC.Language" content="en-US"/>
<link rel="stylesheet" type="text/css" href="intel_css_styles.css"/>
<title>mkl_?csrdia</title>

</head>
<body id="GUID-72EC48B0-4A20-4447-A522-4087488C6054">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->
<p id="header_text" style="margin-bottom : 20pt"><em>Intel&reg; oneAPI Math Kernel Library Developer Reference - Fortran</em></p>


<h1 class="topictitle1"><span class="option">mkl_?csrdia</span></h1>
<!--Converts a sparse matrix in the CSR format to the diagonal format and vice versa (deprecated).--><div><p class="shortdesc">Converts a sparse matrix in the CSR format to the diagonal format and vice versa (deprecated).</p>
<div class="section" id="GUID-E9FFF16B-B7FB-40ED-9461-5CF97940EBA7"><h2 class="sectiontitle">Syntax</h2><dl class="dlsyntax"><p class="dlsyntaxpara"><span class="kwd">call mkl_scsrdia</span><span class="delim">(</span><span class="var">job</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">acsr</span><span class="sep">, </span><span class="var">ja</span><span class="sep">, </span><span class="var">ia</span><span class="sep">, </span><span class="var">adia</span><span class="sep">, </span><span class="var">ndiag</span><span class="sep">, </span><span class="var">distance</span><span class="sep">, </span><span class="var">idiag</span><span class="sep">, </span><span class="var">acsr_rem</span><span class="sep">, </span><span class="var">ja_rem</span><span class="sep">, </span><span class="var">ia_rem</span><span class="sep">, </span><span class="var">info</span><span class="delim">)</span></p><p class="dlsyntaxpara"><span class="kwd">call mkl_dcsrdia</span><span class="delim">(</span><span class="var">job</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">acsr</span><span class="sep">, </span><span class="var">ja</span><span class="sep">, </span><span class="var">ia</span><span class="sep">, </span><span class="var">adia</span><span class="sep">, </span><span class="var">ndiag</span><span class="sep">, </span><span class="var">distance</span><span class="sep">, </span><span class="var">idiag</span><span class="sep">, </span><span class="var">acsr_rem</span><span class="sep">, </span><span class="var">ja_rem</span><span class="sep">, </span><span class="var">ia_rem</span><span class="sep">, </span><span class="var">info</span><span class="delim">)</span></p><p class="dlsyntaxpara"><span class="kwd">call mkl_ccsrdia</span><span class="delim">(</span><span class="var">job</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">acsr</span><span class="sep">, </span><span class="var">ja</span><span class="sep">, </span><span class="var">ia</span><span class="sep">, </span><span class="var">adia</span><span class="sep">, </span><span class="var">ndiag</span><span class="sep">, </span><span class="var">distance</span><span class="sep">, </span><span class="var">idiag</span><span class="sep">, </span><span class="var">acsr_rem</span><span class="sep">, </span><span class="var">ja_rem</span><span class="sep">, </span><span class="var">ia_rem</span><span class="sep">, </span><span class="var">info</span><span class="delim">)</span></p><p class="dlsyntaxpara"><span class="kwd">call mkl_zcsrdia</span><span class="delim">(</span><span class="var">job</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">acsr</span><span class="sep">, </span><span class="var">ja</span><span class="sep">, </span><span class="var">ia</span><span class="sep">, </span><span class="var">adia</span><span class="sep">, </span><span class="var">ndiag</span><span class="sep">, </span><span class="var">distance</span><span class="sep">, </span><span class="var">idiag</span><span class="sep">, </span><span class="var">acsr_rem</span><span class="sep">, </span><span class="var">ja_rem</span><span class="sep">, </span><span class="var">ia_rem</span><span class="sep">, </span><span class="var">info</span><span class="delim">)</span></p></dl></div>
<div class="section" id="GUID-F2D7A8AB-9C41-43A2-9C58-FFED542A221A"><h2 class="sectiontitle">Include Files</h2><ul id="d163e40"><li id="d163e41"><span class="filepath">mkl.fi</span></li>
</ul>
</div>
<div class="section" id="GUID-4AE0A5C0-D948-4650-B8D3-724CA0FC4CFA"><h2 class="sectiontitle">Description</h2><p><span/></p>
<p>This routine is deprecated. Use the <a href="GUID-6313A228-4C03-42C0-8595-11E50F4CB80D.html">matrix manipulation routines</a>from the Intel&reg; oneAPI Math Kernel Library Inspector-executor Sparse BLAS interface instead.</p>
<p>This routine converts a sparse matrix <var>A</var> stored in the compressed sparse row (CSR) format (3-array variation) to the diagonal format and vice versa.</p>
</div>
<div class="section" id="GUID-C1527A1F-500E-4DCC-B158-CDD43C0EB81E"><h2 class="sectiontitle">Input Parameters</h2><p>Parameter descriptions are common for all implemented interfaces with the exception of data types that refer here to the FORTRAN 77 standard types. Data types specific to the different interfaces are described in the section 
        <strong>"Interfaces"</strong> below. 
      </p>
<dl id="GUID-A1F93298-FFC1-4B89-8599-C733814B1197"><dt class="dlterm"><span class="parmname">job</span></dt>

<dd><p><span class="keyword">INTEGER</span></p>
<p>Array, contains the following conversion parameters:</p>
<p class="bold"><samp class="codeph"><span><span class="parmname">job</span>(1)</span></samp></p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(1)</span>=0</samp>, the matrix in the CSR format is converted to the diagonal format;</p>
<p>if <samp class="codeph"><span><span class="parmname">job</span>(1)</span>=1</samp>, the matrix in the diagonal format is converted to the CSR format.</p>
<p class="bold"><samp class="codeph"><span><span class="parmname">job</span>(2)</span></samp></p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(2)</span>=0</samp>, zero-based indexing
for the matrix in CSR format is used;</p>
<p>if <samp class="codeph"><span><span class="parmname">job</span>(2)</span>=1</samp>, one-based indexing
for the matrix in CSR format is used.</p>
<p class="bold"><samp class="codeph"><span><span class="parmname">job</span>(3)</span></samp></p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(3)</span>=0</samp>, zero-based indexing
for the matrix in the diagonal format is used;</p>
<p>if <samp class="codeph"><span><span class="parmname">job</span>(3)</span>=1</samp>, one-based indexing
for the matrix in the diagonal format is used.</p>
<p class="bold"><samp class="codeph"><span><span class="parmname">job</span>(6)</span></samp> - job indicator.</p>
<p class="bold">For conversion to the diagonal format:</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>=0</samp>, diagonals are not selected internally, and
<span class="parmname">acsr_rem</span>,  <span class="parmname">ja_rem</span>, <span class="parmname">ia_rem</span> are not filled in for the output
storage.</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>=1</samp>, diagonals are not selected internally, and
<span class="parmname">acsr_rem</span>,  <span class="parmname">ja_rem</span>, <span class="parmname">ia_rem</span> are filled in for the output
storage.</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>=10</samp>, diagonals are selected internally, and
<span class="parmname">acsr_rem</span>,  <span class="parmname">ja_rem</span>, <span class="parmname">ia_rem</span> are not filled in for the output
storage.</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>=11</samp>, diagonals are selected internally, and
<span class="parmname">csr_rem</span>,  <span class="parmname">ja_rem</span>, <span class="parmname">ia_rem</span> are filled in for the output
storage.</p>
<p class="bold">For conversion to the CSR format:</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>=0</samp>,  each entry in the array <span class="parmname">adia</span> is checked whether it
is zero. Zero entries are not included in the array <span class="parmname">acsr</span>.</p>
<p>If <samp class="codeph"><span><span class="parmname">job</span>(6)</span>≠0</samp>,  each entry in the array <span class="parmname">adia</span> is not checked whether it
is zero.</p>
</dd>
<dt class="dlterm"><span class="parmname">m</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Dimension of the matrix <var>A</var>.</p>
</dd>
<dt class="dlterm"><span class="parmname">acsr</span></dt>

<dd><p>(input/output)</p>
<p><span class="keyword">REAL</span> for <span class="option">mkl_scsrdia</span>.</p>
<p><span class="keyword">DOUBLE PRECISION</span> for <span class="option">mkl_dcsrdia</span>.</p>
<p><span class="keyword">COMPLEX</span> for <span class="option">mkl_ccsrdia</span>.</p>
<p><span class="keyword">DOUBLE COMPLEX</span> for <span class="option">mkl_zcsrdia</span>.</p>
<p>Array containing non-zero elements of the matrix <var>A</var>. Its length is equal to the number of non-zero elements in the matrix <var>A</var>. Refer to <span class="parmname">values</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#GUID-9FCEB1C4-670D-4738-81D2-F378013412B0">Sparse Matrix Storage Formats</a> for more details.
</p>
</dd>
<dt class="dlterm"><span class="parmname">ja</span></dt>

<dd><p>(input/output)<span><span class="keyword">INTEGER</span></span>. Array containing the column indices for each non-zero element of the matrix <var>A</var>.</p>
<p>Its length is equal to the length of the array <span class="parmname">acsr</span>. Refer to <span class="parmname">columns</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#GUID-9FCEB1C4-670D-4738-81D2-F378013412B0">Sparse Matrix Storage Formats</a> for more details.</p>
</dd>
<dt class="dlterm"><span class="parmname">ia</span></dt>

<dd><p>(input/output)<span><span class="keyword">INTEGER</span></span>. Array of length <samp class="codeph"><span class="parmname">m</span> + 1</samp>, containing indices of elements in the array <span class="parmname">acsr</span>, such that <samp class="codeph"><span class="parmname">ia</span>(<var>i</var>)</samp> is the index in the array <span class="parmname">acsr</span> of the first non-zero element from the row <var>i</var>. The value of<span> the last element</span><samp class="codeph"><span class="parmname">ia</span>(<span class="parmname">m</span> + 1)</samp> is equal to the number of non-zeros<span> plus one</span>. Refer to <span class="parmname">rowIndex</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#GUID-9FCEB1C4-670D-4738-81D2-F378013412B0">Sparse Matrix Storage Formats</a> for more details.
</p>
</dd>
<dt class="dlterm"><span class="parmname">adia</span></dt>

<dd><p>(input/output)</p>
<p><span class="keyword">REAL</span> for <span class="option">mkl_scsrdia</span>.</p>
<p><span class="keyword">DOUBLE PRECISION</span> for <span class="option">mkl_dcsrdia</span>.</p>
<p><span class="keyword">COMPLEX</span> for <span class="option">mkl_ccsrdia</span>.</p>
<p><span class="keyword">DOUBLE COMPLEX</span> for <span class="option">mkl_zcsrdia</span>.</p>
<p> Array of size (<span><span class="parmname">ndiag</span> x <span class="parmname">idiag</span></span>) containing
diagonals of the matrix <var>A</var>.</p>
<p>The key point of the storage is that each
element in the array <span class="parmname">adia</span> retains the row number of the original matrix. To
achieve this diagonals
 in the lower triangular part of the matrix are
padded from the top,
 and those in the upper triangular part are
padded from the bottom.</p>
</dd>
<dt class="dlterm"><span class="parmname">ndiag</span></dt>

<dd><p><span class="keyword">INTEGER</span>.</p>
<p> Specifies the leading dimension of the
array <span class="parmname">adia</span>
  as declared in the calling (sub)program, must
be at least  <samp class="codeph">max(1, 
<span class="parmname">m</span>)</samp>.</p>
</dd>
<dt class="dlterm"><span class="parmname">distance</span></dt>

<dd><p><span class="keyword">INTEGER</span>.</p>
<p> Array of length <span class="parmname">idiag</span>, containing the
distances  between the main diagonal and each non-zero
diagonal to be  extracted. The distance is positive if the
diagonal is above the  main diagonal, and negative if the diagonal is
below the main  diagonal. The main diagonal has a distance
equal to zero.</p>
</dd>
<dt class="dlterm"><span class="parmname">idiag</span></dt>

<dd><p><span class="keyword">INTEGER</span>.</p>
<p> Number of diagonals to be extracted. For
conversion  to diagonal format on return this parameter may
be modified.</p>
</dd>
<dt class="dlterm"><span class="parmname">acsr_rem</span>, <span class="parmname">ja_rem</span>, <span class="parmname">ia_rem</span></dt>

<dd><p> Remainder of the matrix in the CSR format if
it is needed for conversion  to the diagonal format.</p>
</dd>
</dl>
</div>
<div class="section" id="GUID-E86E4660-1F95-47D1-9441-988383FB53B0"><h2 class="sectiontitle">Output Parameters</h2><dl id="GUID-0BCEBE6A-1FAF-4F3C-8D26-9DCBC30BDDE2"><dt class="dlterm"><span class="parmname">info</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>This parameter is not used now.</p>
</dd>
</dl>
</div>
<div class="section" id="GUID-08D27C0D-05CA-4613-A98B-026BA5B868EA"><h2 class="sectiontitle">Interfaces</h2><div class="section" id="GUID-FF2C0832-0C5F-472B-8826-6EF2C7F007D1"><h2 class="sectiontitle">FORTRAN 77:</h2><pre>SUBROUTINE mkl_scsrdia(job, m, acsr, ja, ia, adia, ndiag, distance, idiag, acsr_rem, ja_rem, ia_rem, info)</pre><pre>  INTEGER      job(8)</pre><pre>  INTEGER      m, info, ndiag, idiag</pre><pre>  INTEGER      ja(*), ia(m+1), distance(*), ja_rem(*), ia_rem(*)</pre><pre>  REAL         acsr(*), adia(*), acsr_rem(*)</pre><p/>
<pre>SUBROUTINE mkl_dcsrdia(job, m, acsr, ja, ia, adia, ndiag, distance, idiag, acsr_rem, ja_rem, ia_rem, info)</pre><pre>  INTEGER      job(8)</pre><pre>  INTEGER      m, info, ndiag, idiag</pre><pre>  INTEGER      ja(*), ia(m+1), distance(*), ja_rem(*), ia_rem(*)</pre><pre>  DOUBLE PRECISION       acsr(*), adia(*), acsr_rem(*)</pre><p/>
<pre>SUBROUTINE mkl_ccsrdia(job, m, acsr, ja, ia, adia, ndiag, distance, idiag, acsr_rem, ja_rem, ia_rem, info)</pre><pre>  INTEGER      job(8)</pre><pre>  INTEGER      m, info, ndiag, idiag</pre><pre>  INTEGER      ja(*), ia(m+1), distance(*), ja_rem(*), ia_rem(*)</pre><pre>  COMPLEX      acsr(*), adia(*), acsr_rem(*)</pre><p/>
<pre>SUBROUTINE mkl_zcsrdia(job, m, acsr, ja, ia, adia, ndiag, distance, idiag, acsr_rem, ja_rem, ia_rem, info)</pre><pre>  INTEGER      job(8)</pre><pre>  INTEGER      m, info, ndiag, idiag</pre><pre>  INTEGER      ja(*), ia(m+1), distance(*), ja_rem(*), ia_rem(*)</pre><pre>  DOUBLE COMPLEX       acsr(*), adia(*), acsr_rem(*)</pre><p/>
</div>
</div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-89D3F5E7-67D5-410F-AB5B-84A71080687B.html">Sparse BLAS Level 2 and Level 3 Routines.</a></div>
</div>
<div/>
</body>
</html>
