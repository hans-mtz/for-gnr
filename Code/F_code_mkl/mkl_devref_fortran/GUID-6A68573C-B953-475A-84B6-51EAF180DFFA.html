<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0016)http://localhost -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="DC.Type" content="FunctionRef"/>
<meta name="DC.Title" content="mkl_?bsrmm"/>
<meta name="abstract" content="Computes matrix - matrix product of a sparse matrix stored in the BSR format (deprecated)."/>
<meta name="description" content="Computes matrix - matrix product of a sparse matrix stored in the BSR format (deprecated)."/>
<meta name="DC.subject" content="mkl_?bsrmm, sparse BLAS Level 3 routines"/>
<meta name="keywords" content="mkl_?bsrmm, sparse BLAS Level 3 routines"/>
<meta name="DC.Relation" scheme="URI" content="GUID-89D3F5E7-67D5-410F-AB5B-84A71080687B.html"/>
<meta name="DC.Relation" scheme="URI" content="http://www.intel.com/software/products/softwaredocs_feedback"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-6A68573C-B953-475A-84B6-51EAF180DFFA"/>
<meta name="DC.Language" content="en-US"/>
<link rel="stylesheet" type="text/css" href="intel_css_styles.css"/>
<title>mkl_?bsrmm</title>

</head>
<body id="GUID-6A68573C-B953-475A-84B6-51EAF180DFFA">
 <!-- ==============(Start:NavScript)================= -->
 <script src="NavScript.js" language="JavaScript1.2" type="text/javascript"></script>
 <script language="JavaScript1.2" type="text/javascript">WriteNavLink(0);</script>
 <!-- ==============(End:NavScript)================= -->
<p id="header_text" style="margin-bottom : 20pt"><em>Intel&reg; oneAPI Math Kernel Library Developer Reference - Fortran</em></p>


<h1 class="topictitle1"><span class="option">mkl_?bsrmm</span></h1>
<!--Computes matrix - matrix product of a sparse matrix stored in the BSR format (deprecated).--><div><p class="shortdesc">Computes matrix - matrix product of a sparse matrix stored in the BSR format (deprecated).</p>
<div class="section" id="GUID-0AC3DB1E-E801-4368-9EE7-E2C32EF23750"><h2 class="sectiontitle">Syntax</h2><dl class="dlsyntax"><p class="dlsyntaxpara"><span class="kwd">call mkl_sbsrmm</span><span class="delim">(</span><span class="var">transa</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">n</span><span class="sep">, </span><span class="var">k</span><span class="sep">, </span><span class="var">lb</span><span class="sep">, </span><span class="var">alpha</span><span class="sep">, </span><span class="var">matdescra</span><span class="sep">, </span><span class="var">val</span><span class="sep">, </span><span class="var">indx</span><span class="sep">, </span><span class="var">pntrb</span><span class="sep">, </span><span class="var">pntre</span><span class="sep">, </span><span class="var">b</span><span class="sep">, </span><span class="var">ldb</span><span class="sep">, </span><span class="var">beta</span><span class="sep">, </span><span class="var">c</span><span class="sep">, </span><span class="var">ldc</span><span class="delim">)</span></p><p class="dlsyntaxpara"><span class="kwd">call mkl_dbsrmm</span><span class="delim">(</span><span class="var">transa</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">n</span><span class="sep">, </span><span class="var">k</span><span class="sep">, </span><span class="var">lb</span><span class="sep">, </span><span class="var">alpha</span><span class="sep">, </span><span class="var">matdescra</span><span class="sep">, </span><span class="var">val</span><span class="sep">, </span><span class="var">indx</span><span class="sep">, </span><span class="var">pntrb</span><span class="sep">, </span><span class="var">pntre</span><span class="sep">, </span><span class="var">b</span><span class="sep">, </span><span class="var">ldb</span><span class="sep">, </span><span class="var">beta</span><span class="sep">, </span><span class="var">c</span><span class="sep">, </span><span class="var">ldc</span><span class="delim">)</span></p><p class="dlsyntaxpara"><span class="kwd">call mkl_cbsrmm</span><span class="delim">(</span><span class="var">transa</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">n</span><span class="sep">, </span><span class="var">k</span><span class="sep">, </span><span class="var">lb</span><span class="sep">, </span><span class="var">alpha</span><span class="sep">, </span><span class="var">matdescra</span><span class="sep">, </span><span class="var">val</span><span class="sep">, </span><span class="var">indx</span><span class="sep">, </span><span class="var">pntrb</span><span class="sep">, </span><span class="var">pntre</span><span class="sep">, </span><span class="var">b</span><span class="sep">, </span><span class="var">ldb</span><span class="sep">, </span><span class="var">beta</span><span class="sep">, </span><span class="var">c</span><span class="sep">, </span><span class="var">ldc</span><span class="delim">)</span></p><p class="dlsyntaxpara"><span class="kwd">call mkl_zbsrmm</span><span class="delim">(</span><span class="var">transa</span><span class="sep">, </span><span class="var">m</span><span class="sep">, </span><span class="var">n</span><span class="sep">, </span><span class="var">k</span><span class="sep">, </span><span class="var">lb</span><span class="sep">, </span><span class="var">alpha</span><span class="sep">, </span><span class="var">matdescra</span><span class="sep">, </span><span class="var">val</span><span class="sep">, </span><span class="var">indx</span><span class="sep">, </span><span class="var">pntrb</span><span class="sep">, </span><span class="var">pntre</span><span class="sep">, </span><span class="var">b</span><span class="sep">, </span><span class="var">ldb</span><span class="sep">, </span><span class="var">beta</span><span class="sep">, </span><span class="var">c</span><span class="sep">, </span><span class="var">ldc</span><span class="delim">)</span></p></dl></div>
<div class="section" id="GUID-BF8C2595-7462-4814-8C23-23FF58AD2764"><h2 class="sectiontitle">Include Files</h2><ul id="d163e40"><li id="d163e41"><span class="filepath">mkl.fi</span></li>
</ul>
</div>
<div class="section" id="GUID-817B4CF1-F25A-4689-B48B-5A04EE2EE244"><h2 class="sectiontitle">Description</h2><p><span/></p>
<p>This routine is deprecated. Use <a href="GUID-776544BE-5C46-41DF-AA5A-1AD7AF1C0AE2.html">Use mkl_sparse_?_mm</a>from the Intel&reg; oneAPI Math Kernel Library Inspector-executor Sparse BLAS interface instead.</p>
<p>The <span class="option">mkl_?bsrmm</span> routine performs a matrix-matrix operation defined as <pre><var>C</var> := <var>alpha</var>*<var>A</var>*<var>B</var> + <var>beta</var>*<var>C</var></pre></p>
<p>or <pre><var>C</var> := <var>alpha</var>*<var>A</var><sup>T</sup>*<var>B</var> + <var>beta</var>*<var>C</var></pre></p>
<p>or <pre><var>C</var> := <var>alpha</var>*<var>A</var><sup>H</sup>*<var>B</var> + <var>beta</var>*<var>C</var>,</pre></p>
<p>where: </p>
<p><var>alpha</var> and <var>beta</var> are scalars, </p>
<p><var>B</var> and <var>C</var> are dense matrices, <var>A</var> is an <var>m</var>-by-<var>k</var> sparse matrix in block sparse row (BSR) format, <var>A</var><sup>T</sup> is the transpose of <var>A</var>, and <var>A</var><sup>H</sup> is the conjugate transpose of <var>A</var>.</p>
<p><div class="Note"><h3 class="NoteTipHead">Note</h3> <p>This routine supports a BSR format both with one-based indexing and zero-based indexing.</p>
</div>
</p>
</div>
<div class="section" id="GUID-F1F7962E-1941-4963-99E8-71BE0B0DA7A9"><h2 class="sectiontitle">Input Parameters</h2><p>Parameter descriptions are common for all implemented interfaces with the exception of data types that refer here to the FORTRAN 77 standard types. Data types specific to the different interfaces are described in the section 
        <strong>"Interfaces"</strong> below. 
      </p>
<dl id="GUID-27DDDE50-F8D7-40BF-946B-1CB7E8EA08DB"><dt class="dlterm"><span class="parmname">transa</span></dt>

<dd><p><span><span class="keyword">CHARACTER*1</span>. </span>Specifies the operation.</p>
<p>If <samp class="codeph"><span class="parmname">transa</span> = <span class="keyword">'N'</span></samp> or <span class="keyword">'n'</span>, then the matrix-matrix product is computed as <samp class="codeph"><var>C</var> := <var>alpha</var>*<var>A</var>*<var>B</var> + <var>beta</var>*<var>C</var></samp></p>
<p>If <samp class="codeph"><span class="parmname">transa</span> = <span class="keyword">'T'</span></samp> or <span class="keyword">'t'</span>, then the matrix-vector product is computed as <samp class="codeph"><var>C</var> := <var>alpha</var>*<var>A</var><sup>T</sup>*<var>B</var> + <var>beta</var>*<var>C</var></samp></p>
<p>If <samp class="codeph"><span class="parmname">transa</span> = </samp><span class="keyword">'C'</span> or <span class="keyword">'c'</span>, then the matrix-vector product is computed as <samp class="codeph"><var>C</var> := <var>alpha</var>*<var>A</var><sup>H</sup>*<var>B</var> + <var>beta</var>*<var>C</var></samp>,</p>
</dd>
<dt class="dlterm"><span class="parmname">m</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Number of block rows of the matrix <var>A</var>.</p>
</dd>
<dt class="dlterm"><span class="parmname">n</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Number of columns of the matrix <var>C</var>.</p>
</dd>
<dt class="dlterm"><span class="parmname">k</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Number of block columns of the matrix <var>A</var>.</p>
</dd>
<dt class="dlterm"><span class="parmname">lb</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Size of the block in the matrix <var>A</var>.</p>
</dd>
<dt class="dlterm"><span class="parmname">alpha</span></dt>

<dd><p><span class="keyword">REAL</span> for <span class="option">mkl_sbsrmm</span>.</p>
<p><span class="keyword">DOUBLE PRECISION</span> for <span class="option">mkl_dbsrmm</span>.</p>
<p><span class="keyword">COMPLEX</span> for <span class="option">mkl_cbsrmm</span>.</p>
<p><span class="keyword">DOUBLE COMPLEX</span> for <span class="option">mkl_zbsrmm</span>.</p>
<p>Specifies the scalar <var>alpha</var>. </p>
</dd>
<dt class="dlterm"><span class="parmname">matdescra</span></dt>

<dd><p><span><span class="keyword">CHARACTER</span>. </span>Array of six elements, specifies properties of the matrix used for operation. Only first four array elements are used, their possible values are given in  <a class="allformats" href="GUID-34C8DB79-0139-46E0-8B53-99F3BEE7B2D4.html#TBL2-6"><span>Table “Possible Values of the Parameter <span class="parmname">matdescra</span> (<span class="parmname">descra</span>)”</span></a>. Possible combinations of element values of this parameter are given in <a class="allformats" href="GUID-34C8DB79-0139-46E0-8B53-99F3BEE7B2D4.html#TBL2-7"><span>Table “Possible Combinations of Element Values of the Parameter <span class="parmname">matdescra</span>”</span></a>.</p>
</dd>
<dt class="dlterm"><span class="parmname">val</span></dt>

<dd><p><span class="keyword">REAL</span> for <span class="option">mkl_sbsrmm</span>.</p>
<p><span class="keyword">DOUBLE PRECISION</span> for <span class="option">mkl_dbsrmm</span>.</p>
<p><span class="keyword">COMPLEX</span> for <span class="option">mkl_cbsrmm</span>.</p>
<p><span class="keyword">DOUBLE COMPLEX</span> for <span class="option">mkl_zbsrmm</span>.</p>
<p>Array containing elements of non-zero blocks of the matrix <var>A</var>. Its length is equal to the number of non-zero blocks in the matrix <var>A</var> multiplied by <samp class="codeph"><span class="parmname">lb</span>*<span class="parmname">lb</span></samp>. Refer to the <span class="parmname">values</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#MKL_APPA_SMSF_8">BSR Format</a> for more details.</p>
</dd>
<dt class="dlterm"><span class="parmname">indx</span></dt>

<dd><p><span class="keyword">INTEGER</span>. Array containing the column indices for each non-zero block in the matrix <var>A</var>. </p>
<p>Its length is equal to the number of non-zero blocks in the matrix <var>A</var>. Refer to the <span class="parmname">columns</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#MKL_APPA_SMSF_8">BSR Format</a> for more details.</p>
</dd>
<dt class="dlterm"><span class="parmname">pntrb</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Array of length <span class="parmname">m</span>. </p>
<p>For one-based indexing: this array contains row indices, such that <samp class="codeph"><span class="parmname">pntrb</span>(<var>I</var>) - <span class="parmname">pntrb</span>(1) + 1</samp> is the first index of block row <var>I</var> in the array <span class="parmname">indx</span>. </p>
<p>For zero-based indexing: this array contains row indices, such that <samp class="codeph"><span class="parmname">pntrb</span>(<var>I</var>) - <span class="parmname">pntrb</span>(0)</samp> is the first index of block row <var>I</var> in the array <span class="parmname">indx</span>. </p>
<p>Refer to <span class="parmname">pointerB</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#MKL_APPA_SMSF_8">BSR Format</a> for more details.</p>
</dd>
<dt class="dlterm"><span class="parmname">pntre</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Array of length <span class="parmname">m</span>.</p>
<p>For one-based indexing this array contains row indices, such that <samp class="codeph"><span class="parmname">pntre</span>(<var>I</var>) - <span class="parmname">pntrb</span>(1)</samp> is the last index of block row <var>I</var> in the array <span class="parmname">indx</span>. </p>
<p>For zero-based indexing this array contains row indices, such that <samp class="codeph"><span class="parmname">pntre</span>(<var>I</var>) - <span class="parmname">pntrb</span>(0) - 1</samp> is the last index of block row <var>I</var> in the array <span class="parmname">indx</span>.</p>
<p>Refer to <span class="parmname">pointerE</span> array description in <a class="allformats" href="GUID-9FCEB1C4-670D-4738-81D2-F378013412B0.html#MKL_APPA_SMSF_8">BSR Format</a> for more details.</p>
</dd>
<dt class="dlterm"><span class="parmname">b</span></dt>

<dd><p><span class="keyword">REAL</span> for <span class="option">mkl_sbsrmm</span>.</p>
<p><span class="keyword">DOUBLE PRECISION</span> for <span class="option">mkl_dbsrmm</span>.</p>
<p><span class="keyword">COMPLEX</span> for <span class="option">mkl_cbsrmm</span>.</p>
<p><span class="keyword">DOUBLE COMPLEX</span> for <span class="option">mkl_zbsrmm</span>.</p>
<p>Array, size <span class="parmname">ldb</span> by at least <span class="parmname">n</span>
 for non-transposed matrix <var>A</var> and at least <span class="parmname">m</span> for transposed for one-based indexing, and (at least <span class="parmname">k</span>
 for non-transposed matrix <var>A</var> and at least <span class="parmname">m</span> for transposed, <span class="parmname">ldb</span>) for zero-based indexing.</p>
<p>On entry with <samp class="codeph"><span class="parmname">transa=</span><span class="keyword">'N'</span></samp> or <span class="keyword">'n'</span>, the leading <span class="parmname">n</span>-by-<span class="parmname">k</span> block part of the array <span class="parmname">b</span> must contain the matrix <var>B</var>, otherwise the leading <span class="parmname">m</span>-by-<span class="parmname">n</span> block part of the array <span class="parmname">b</span> must contain the matrix <var>B</var>.</p>
</dd>
<dt class="dlterm"><span class="parmname">ldb</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Specifies the leading dimension (in blocks) of <span class="parmname">b</span> as declared in the calling (sub)program.</p>
</dd>
<dt class="dlterm"><span class="parmname">beta</span></dt>

<dd><p><span class="keyword">REAL</span> for <span class="option">mkl_sbsrmm</span>.</p>
<p><span class="keyword">DOUBLE PRECISION</span> for <span class="option">mkl_dbsrmm</span>.</p>
<p><span class="keyword">COMPLEX</span> for <span class="option">mkl_cbsrmm</span>.</p>
<p><span class="keyword">DOUBLE COMPLEX</span> for <span class="option">mkl_zbsrmm</span>.</p>
<p>Specifies the scalar <var>beta</var>. </p>
</dd>
<dt class="dlterm"><span class="parmname">c</span></dt>

<dd><p><span class="keyword">REAL</span> for <span class="option">mkl_sbsrmm</span>.</p>
<p><span class="keyword">DOUBLE PRECISION</span> for <span class="option">mkl_dbsrmm</span>.</p>
<p><span class="keyword">COMPLEX</span> for <span class="option">mkl_cbsrmm</span>.</p>
<p><span class="keyword">DOUBLE COMPLEX</span> for <span class="option">mkl_zbsrmm</span>.</p>
<p>Array, size <samp class="codeph">(<var>ldc</var>, <var> n</var>)</samp>
 for one-based indexing,  size <samp class="codeph">(<var>k</var>, <var> ldc</var>)</samp>
 for zero-based indexing.</p>
<p>On entry, the leading <span class="parmname">m</span>-by-<span class="parmname">n</span> block part of the array <span class="parmname">c</span> must contain the matrix <var>C</var>, otherwise the leading <span class="parmname">n</span>-by-<var>k</var> block part of the array <span class="parmname">c</span> must contain the matrix <var>C</var>.</p>
</dd>
<dt class="dlterm"><span class="parmname">ldc</span></dt>

<dd><p><span><span class="keyword">INTEGER</span>. </span>Specifies the leading dimension (in blocks) of <span class="parmname">c</span> as declared in the calling (sub)program.</p>
</dd>
</dl>
</div>
<div class="section" id="GUID-09B04780-B21E-4B9A-A3FB-C9381B2CAA5E"><h2 class="sectiontitle">Output Parameters</h2><dl id="GUID-435A5ADA-8DB3-4DAC-A4C1-CA9F19333938"><dt class="dlterm"><span class="parmname">c</span></dt>

<dd><p>Overwritten by the matrix <samp class="codeph">(<var>alpha</var>*<var>A</var>*<var>B</var> + <var>beta</var>*<var>C</var>)</samp> or <samp class="codeph">(<var>alpha</var>*<var>A</var><sup>T</sup>*<var>B</var> + <var>beta</var>*<var>C</var>)</samp> or <samp class="codeph">(<var>alpha</var>*<var>A</var><sup>H</sup>*<var>B</var> + <var>beta</var>*<var>C</var>)</samp>.</p>
</dd>
</dl>
</div>
<div class="section" id="GUID-0AA6AC45-EE8A-480D-95AB-62E66CC319EA"><h2 class="sectiontitle">Interfaces</h2><div class="section" id="GUID-52912B50-94D2-42EB-B29F-94E2B65CCAB5"><h2 class="sectiontitle">FORTRAN 77:</h2><pre>SUBROUTINE mkl_sbsrmm(transa, m, n, k, lb, alpha, matdescra, val,</pre><pre> indx, pntrb, pntre, b, ldb, beta, c, ldc)</pre><pre>  CHARACTER*1   transa</pre><pre>  CHARACTER     matdescra(*)</pre><pre>  INTEGER       m, n, k, ld, ldb, ldc</pre><pre>  INTEGER       indx(*), pntrb(m), pntre(m)</pre><pre>  REAL          alpha, beta</pre><pre>  REAL          val(*), b(ldb,*), c(ldc,*)</pre><p/>
<pre>SUBROUTINE mkl_dbsrmm(transa, m, n, k, lb, alpha, matdescra, val,</pre><pre> indx, pntrb, pntre, b, ldb, beta, c, ldc)</pre><pre>  CHARACTER*1   transa</pre><pre>  CHARACTER     matdescra(*)</pre><pre>  INTEGER       m, n, k, ld, ldb, ldc</pre><pre>  INTEGER       indx(*), pntrb(m), pntre(m)</pre><pre>  DOUBLE PRECISION        alpha, beta</pre><pre>  DOUBLE PRECISION        val(*), b(ldb,*), c(ldc,*)</pre><p/>
<pre>SUBROUTINE mkl_cbsrmm(transa, m, n, k, lb, alpha, matdescra, val,</pre><pre> indx, pntrb, pntre, b, ldb, beta, c, ldc)</pre><pre>  CHARACTER*1   transa</pre><pre>  CHARACTER     matdescra(*)</pre><pre>  INTEGER       m, n, k, ld, ldb, ldc</pre><pre>  INTEGER       indx(*), pntrb(m), pntre(m)</pre><pre>  COMPLEX        alpha, beta</pre><pre>  COMPLEX        val(*), b(ldb,*), c(ldc,*)</pre><p/>
<pre>SUBROUTINE mkl_zbsrmm(transa, m, n, k, lb, alpha, matdescra, val,</pre><pre> indx, pntrb, pntre, b, ldb, beta, c, ldc)</pre><pre>  CHARACTER*1   transa</pre><pre>  CHARACTER     matdescra(*)</pre><pre>  INTEGER       m, n, k, ld, ldb, ldc</pre><pre>  INTEGER       indx(*), pntrb(m), pntre(m)</pre><pre>  DOUBLE COMPLEX        alpha, beta</pre><pre>  DOUBLE COMPLEX        val(*), b(ldb,*), c(ldc,*)</pre><p/>
</div>
</div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-89D3F5E7-67D5-410F-AB5B-84A71080687B.html">Sparse BLAS Level 2 and Level 3 Routines.</a></div>
</div>
<div/>
</body>
</html>
